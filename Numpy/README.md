آموزش NumPy - توضیح کامل کدها همراه با خروجی
این فایل README یک مرور کامل از نوت‌بوک Jupyter نوشته‌شده با استفاده از NumPy است. تمام بخش‌ها با توضیح و خروجی آورده شده‌اند و برای مبتدی‌ها بسیار مناسب است.
فهرست مطالب

ساخت آرایه ساده NumPy
تغییر شکل آرایه
آرایه‌های چندبعدی و فیلتر شرطی
آرایه‌های مختلط
آرایه‌های صفر و یک
linspace و full
آرایه‌های تصادفی
تخت‌سازی آرایه
عملیات ریاضی ساده
آمار ساده
عملیات ماتریسی
ترسیم با matplotlib
مرتب‌سازی و اندیس‌گذاری
برش آرایه‌ها
اندیس‌گذاری چندبعدی
اتصال آرایه‌ها
تقسیم آرایه‌ها
کپی کردن آرایه
پر کردن آرایه
کار با تاریخ‌ها
عملیات بولی و فیلتر
توابع ریاضی پیشرفته
ذخیره‌سازی و خواندن فایل‌ها
تولید داده‌های تصادفی
مرتب‌سازی و argsort
ماسک‌گذاری پیشرفته
تابع دلخواه روی آرایه
بردارسازی الگوریتم‌ها
شرط‌های برداری
گرادیان ساده


۱. ساخت آرایه ساده NumPy
import numpy as np

a = np.arange(10)
print(a)
print(a.ndim)       # تعداد ابعاد
print(a.shape)      # شکل آرایه
print(a.dtype.name) # نوع داده عناصر
print(a.itemsize)   # اندازه هر عنصر به بایت

خروجی:
[0 1 2 3 4 5 6 7 8 9]
1
(10,)
int64
8


۲. تغییر شکل آرایه
b = np.arange(10).reshape(2,5)
print(b)
print(b.ndim)
print(b.shape)
print(b.dtype.name)
print(b.itemsize)

خروجی:
[[0 1 2 3 4]
 [5 6 7 8 9]]
2
(2, 5)
int64
8


۳. آرایه‌های چندبعدی و فیلتر شرطی
c = np.array([[1,2,3],[4,5,6]])
print(c)

خروجی:
[[1 2 3]
 [4 5 6]]

d = np.arange(10,100,2)
d = d.reshape(3,3,5)
print("d is :\n",d)

خروجی:
d is :
 [[[10 12 14 16 18]
  [20 22 24 26 28]
  [30 32 34 36 38]]

 [[40 42 44 46 48]
  [50 52 54 56 58]
  [60 62 64 66 68]]

 [[70 72 74 76 78]
  [80 82 84 86 88]
  [90 92 94 96 98]]]

d = np.where(d > 50 , d , -1)
print("d is :\n",d)

خروجی:
d is :
 [[[-1 -1 -1 -1 -1]
  [-1 -1 -1 -1 -1]
  [-1 -1 -1 -1 -1]]

 [[-1 -1 -1 -1 -1]
  [-1 52 54 56 58]
  [60 62 64 66 68]]

 [[70 72 74 76 78]
  [80 82 84 86 88]
  [90 92 94 96 98]]]


۴. آرایه‌های مختلط
e = np.array([[1,2],[3,4]],dtype=complex)
print(e)

خروجی:
[[1.+0.j 2.+0.j]
 [3.+0.j 4.+0.j]]


۵. آرایه‌های صفر و یک
f = np.zeros([2,3],dtype=np.int8)
g = np.ones([2,3],dtype=np.int8)
print(f)
print(g)

خروجی:
[[0 0 0]
 [0 0 0]]
[[1 1 1]
 [1 1 1]]


۶. linspace و full
h = np.linspace(1,10,20)
i = np.linspace(1,10,20,dtype=np.int8)
g = np.full((3,3),6,dtype='int')
print(h)
print(i)
print(g)

خروجی:
[ 1.          1.47368421  1.94736842  2.42105263  2.89473684  3.36842105
  3.84210526  4.31578947  4.78947368  5.26315789  5.73684211  6.21052632
  6.68421053  7.15789474  7.63157895  8.10526316  8.57894737  9.05263158
  9.52631579 10.        ]
[ 1  1  1  2  2  3  3  4  4  5  5  6  6  7  7  8  8  9  9 10]
[[6 6 6]
 [6 6 6]
 [6 6 6]]


۷. آرایه‌های تصادفی
p = np.random.random((3,3,2,3))
print(p)

خروجی: مقادیر تصادفی در شکل (3,3,2,3)، مثلاً:
[[[[0.67 0.23 0.93]
   [0.14 0.55 0.80]]

  [[0.91 0.99 0.18]
   [0.44 0.77 0.13]]

  [[0.51 0.60 0.49]
   [0.78 0.94 0.65]]]

 ... ]]


۸. تخت‌سازی آرایه
o = np.array([[[1,2],[3,4]],[[5,6],[7,8]],[[9,10],[11,12]]])
flto = o.flatten()
print(flto)

خروجی:
[ 1  2  3  4  5  6  7  8  9 10 11 12]


۹. عملیات ریاضی ساده
t = np.array([1,2,3,4])
print(t+1)
print(t*2)
print(t**3)
t *= 10
print(t)

خروجی:
[2 3 4 5]
[2 4 6 8]
[ 1  8 27 64]
[10 20 30 40]


۱۰. آمار ساده
y = np.array([[1,7,3],[7,3,2],[9,3,5]])
print(y.max())
print(y.max(axis=1))
print(y.sum())
print(y.cumsum())

خروجی:
9
[7 7 9]
40
[ 1  8 11 18 21 23 32 35 40]


۱۱. عملیات ماتریسی
a = np.array([[1,2],[3,4]])
b = np.array([[5,6],[7,8]])
c = a + b
d = a.dot(b)
e = a * b
print(e == d)

خروجی:
[[False False]
 [False False]]


۱۲. ترسیم با matplotlib
import matplotlib.pyplot as mlp
a = np.linspace(0,2*np.pi,100)
b = np.cos(2*a)
mlp.plot(a,b)

خروجی: نمودار موج کسینوسی در پنجره نمایش داده می‌شود.

۱۳. مرتب‌سازی و اندیس‌گذاری
a = np.array([6,3,1])
print(np.sort(a))

خروجی:
[1 3 6]

a = np.arange(10,1,-2)
index = np.array([3,2,-1])
print(a[index])

خروجی:
[4 6 2]


۱۴. برش آرایه‌ها
a = np.arange(20)
print(a[0:10:2])
print(a[10:])
print(a[-1:-10:-3])

خروجی:
[0 2 4 6 8]
[10 11 12 13 14 15 16 17 18 19]
[19 16 13 10]


۱۵. اندیس‌گذاری چندبعدی
a = np.arange(16).reshape(4,4)
print(a[:,0])   # ستون اول
print(a[0,:])   # سطر اول

خروجی:
[ 0  4  8 12]
[0 1 2 3]


۱۶. اتصال آرایه‌ها
a = np.linspace(1,10,6).reshape(2,3)
a = np.floor(a)
b = np.floor(np.linspace(10,20,6)).reshape(2,3)
print(np.hstack((a,b)))
print(np.vstack((a,b)))

خروجی:
[[ 1.  2.  3. 10. 12. 13.]
 [ 5.  6.  8. 15. 17. 18.]]
[[ 1.  2.  3.]
 [ 5.  6.  8.]
 [10. 12. 13.]
 [15. 17. 18.]]


۱۷. تقسیم آرایه‌ها
a = np.arange(24).reshape(4,6)
print(np.hsplit(a,3))
print(np.vsplit(a,2))

خروجی:
[array([[ 0,  1],
       [ 6,  7],
       [12, 13],
       [18, 19]]),
 array([[ 2,  3],
       [ 8,  9],
       [14, 15],
       [20, 21]]),
 array([[ 4,  5],
       [10, 11],
       [16, 17],
       [22, 23]])]

[array([[ 0,  1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10, 11]]),
 array([[12, 13, 14, 15, 16, 17],
       [18, 19, 20, 21, 22, 23]])]


۱۸. کپی کردن آرایه
a = np.arange(20)
b = a
b[3] = 5
print(a)

b = a.copy()
b[3] = 5
print(a)

خروجی:
[ 0  1  2  5  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19]
[ 0  1  2  5  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19]


۱۹. پر کردن آرایه
a = np.arange(20)
a.fill(1)
print(a)

خروجی:
[1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1]


۲۰. کار با تاریخ‌ها
today = np.datetime64('2025-04-17')
print(np.datetime64(today,'Y'))
dates = np.arange('2020-02-01','2020-03-31',dtype='datetime64[D]')
dur = np.datetime64('2020-03-10') - np.datetime64('2020-03-01')
print(np.timedelta64(dur,'W'))

خروجی:
2025
1 weeks


۲۱. عملیات بولی و فیلتر
a = np.array([1, 2, 3, 4, 5, 6])
mask = a > 3       # [False False False  True  True  True]
print(a[mask])     # [4 5 6]
print(a[a % 2 == 0]) # فقط اعداد زوج -> [2 4 6]

خروجی:
[4 5 6]
[2 4 6]


۲۲. توابع ریاضی پیشرفته
a = np.array([1, 2, 3])
print(np.sin(a))
print(np.log(a))
print(np.exp(a))
print(np.sqrt(a))

خروجی: (مقادیر تقریبی)
[ 0.84147098  0.90929743  0.14112001]
[0.         0.69314718 1.09861229]
[ 2.71828183  7.3890561  20.08553692]
[1.         1.41421356 1.73205081]


۲۳. ذخیره‌سازی و خواندن فایل‌ها
np.save('my_array.npy', a)
a = np.load('my_array.npy')
np.savetxt('data.txt', a)

توضیح: ذخیره در فایل .npy و متنی و بارگذاری دوباره.

۲۴. تولید داده‌های تصادفی
np.random.seed(0)         # تنظیم seed برای تکرارپذیری
print(np.random.rand(3, 2))      # اعداد تصادفی بین ۰ تا ۱
print(np.random.randint(0, 10, (2, 3)))  # اعداد صحیح تصادفی بین ۰ تا ۹
print(np.random.normal(0, 1, 1000))      # توزیع نرمال با میانگین ۰ و انحراف ۱

خروجی: (مقادیر نمونه)
[[0.5488135  0.71518937]
 [0.60276338 0.54488318]
 [0.4236548  0.64589411]]
[[5 0 3]
 [3 7 9]]
[... توزیع نرمال ...]


۲۵. مرتب‌سازی و argsort
a = np.array([5, 2, 8, 1])
print(np.sort(a))          # خروجی مرتب‌شده
print(np.argsort(a))       # ایندکس‌هایی که آرایه را مرتب می‌کنند

خروجی:
[1 2 5 8]
[3 1 0 2]


۲۶. ماسک‌گذاری پیشرفته
a = np.array([2, 4, 6, 8, 9])
mask = (a % 2 == 0) & (a > 5)
print(a[mask])    # [6 8]

خروجی:
[6 8]


۲۷. تابع دلخواه روی آرایه
def my_func(x):
    return x**2 + 2*x + 1
a = np.array([1, 2, 3])
print(my_func(a))

خروجی:
[ 4  9 16]


۲۸. بردارسازی الگوریتم‌ها
x = np.array([1, 2, 3, 4])
y = np.array([10, 20, 30, 40])
z = x * y + 2
print(z)

خروجی:
[12 42 92 162]


۲۹. شرط‌های برداری
x = np.array([1, 2, 3, 4, 5])
print(np.where(x > 3, x * 10, x))
conditions = [x < 2, x < 4]
choices = [100, 200]
print(np.select(conditions, choices, default=0))

خروجی:
[ 1  2  3 40 50]
[100 200 200  0  0]


۳۰. گرادیان ساده
def f(x): return x**2
x = np.linspace(-5, 5, 100)
dx = x[1] - x[0]
dfdx = np.gradient(f(x), dx)
print(dfdx[:5])  # چند مقدار اول گرادیان

خروجی: (مقادیر تقریبی)
[-10.  -9.9 -9.8 -9.7 -9.6]
